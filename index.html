<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127299414-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127299414-1');
</script>



  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon-precomposed" href="https://syunpon.github.io/site_images/2-h_.png" />
  <title>2-H</title>

  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
  <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>


</head>
<body>
  <ons-page id="main">
  <ons-toolbar>
    <div class="center">2-H</div>
  </ons-toolbar>
    
  <div id="Syoutesuto_parent">
    <ons-list-header>小テスト範囲</ons-list-header>
      <div id="Syoutesuto">
        <ons-progress-circular indeterminate></ons-progress-circular>
      </div>
   </div>

  <!--<ul class="list">
    <li class="list-item">
      <div class="list-item__center">
        漢字
      </div>
      <div class="list-item__right">
        <div class="list-item__label">
          <div id="kanji"/><ons-progress-circular indeterminate></ons-progress-circular></div>
        </div>
      </div>
    </li>

    <li class="list-item">
      <div class="list-item__center">
        古文単語
      </div>
      <div class="list-item__right">
        <div class="list-item__label">
          <div id="kobuntango"/><ons-progress-circular indeterminate></ons-progress-circular></div>
        </div>
      </div>
    </li>

    
      <li class="list-item">
      <div class="list-item__center">
        ターゲット
      </div>
      <div class="list-item__right">
        <div class="list-item__label">
          <div id="target"/>
        </div>
      </div>
    </li>

    <li class="list-item">
      <div class="list-item__center">
        パワーステージ
      </div>
      <div class="list-item__right">
        <div class="list-item__label">
          <div id="powerstage"/>
        </div>
      </div>
    </li>
  -->

  </ul>
  <div id="Event_parent">
  <ons-list-header>イベント</ons-list-header>
  <ul class="list" id="Event">

    <li class="list-item">
      <ons-progress-circular indeterminate></ons-progress-circular>
    </li>

  </ul>
</div>

  <ons-list-header>英語</ons-list-header>
  <ul class="list" id="English">
    <li class="list-item">
      <ons-progress-circular indeterminate></ons-progress-circular>
    </li>
  </ul>

</ons-page>

<script type="text/javascript">
var output = "";
var text;
var text_2;
var text_3;
var text2;
var text3;
var text4_0;
var text4_1;
var text5_0;
var text5_1;


  function getData() {
    var xmlhttp = new XMLHttpRequest();
    var dc;

    xmlhttp.onreadystatechange = function() {
      if (xmlhttp.readyState == 4) {
        if (xmlhttp.status == 200) {
          document.getElementById("Syoutesuto").innerHTML = "";
          
          text = xmlhttp.responseText.split("\n");
          text_2 = text[0].split(",");
          text_3 = text[1].split(",");
          
          for (int i = 0; i < text.length; i++) {
            var text_ = text[i].split(",");
            document.getElementById("Syoutesuto").innerHTML += "<li class=\"list-item\"><div class=\"list-item__center\">" + text_[0] + "</div><div class=\"list-item__right\"><div class=\"list-item__label\">" + text_[1] + "</div></div></ul>";
          }

          /*var elem = document.getElementById("kanji");
          elem.innerHTML = text_2[1];
          var elem = document.getElementById("kobuntango");
          elem.innerHTML = text_3[1];*/
        } else {
          document.getElementById("Syoutesuto_parent").remove();
        }

      }
    }
    xmlhttp.open("GET", "https://docs.google.com/spreadsheets/d/e/2PACX-1vT1Blq25RkxCD_k6VLJs-04oI95pD0R59H9FfzkIP8U-kltsF4iQjqyFHKmpcZtYFICzUrd4KN-UG7r/pub?output=csv");
    xmlhttp.send();

  }

  function getData2() {
    var xmlhttp2 = new XMLHttpRequest();
    var dc;

    xmlhttp2.onreadystatechange = function() {
      if (xmlhttp2.readyState == 4) {
        if (xmlhttp2.status == 200) {
          text2 = xmlhttp2.responseText.split("\n");
          console.log(text2);
          text3 = text2[2].split(",");
           
          //<div class="list-item__right"><div class="list-item__label">
          var elem = document.getElementById("target");
          elem.innerHTML += text3[1];
          var elem = document.getElementById("powerstage");
          elem.innerHTML = text3[2];
        } else {
          var elem = document.getElementById("target");
          elem.innerHTML = "取得できませんでした";
          var elem = document.getElementById("powerstage");
          elem.innerHTML = "取得できませんでした";
        }

      }
    }
    xmlhttp2.open("GET", "https://docs.google.com/spreadsheets/d/e/2PACX-1vRoRnlgjmkcExPoYnvK69L6QcjTiQdFBHqIVCiLOvIUJtB9UCky2i9OsZ0qCk2g1LQFdLmQtciFLbAO/pub?output=csv");
    xmlhttp2.send();

  }

  function getData3() {
    var xmlhttp3 = new XMLHttpRequest();
    var dc;

    xmlhttp3.onreadystatechange = function() {
      if (xmlhttp3.readyState == 4) {
        document.getElementById("English").innerHTML = "";
        if (xmlhttp3.status == 200) {
          text4_0 = xmlhttp3.responseText.split("\n");

          for (var i = 2; i < text4_0.length; i++) {
            text4_1 = text4_0[i].split(",");
            if (text4_1[1] !== undefined && text4_1[2] !== undefined) {
              if (text4_1[2] == "\"なし") text4_1[2] = "なし";
              var output2 = "<ons-list-item expandable>" + text4_1[0] + "<div class=\"expandable-content\">ターゲット : " + text4_1[1] + "<br>パワーステージ : " + text4_1[2] + "</div></ons-list-item>";
              document.getElementById("English").innerHTML += output2;
            }
          }
        }

      }
    }
    xmlhttp3.open("GET", "https://docs.google.com/spreadsheets/d/e/2PACX-1vRoRnlgjmkcExPoYnvK69L6QcjTiQdFBHqIVCiLOvIUJtB9UCky2i9OsZ0qCk2g1LQFdLmQtciFLbAO/pub?output=csv");
    xmlhttp3.send();

  }

  function getData4() {
    var xmlhttp4 = new XMLHttpRequest();
    var dc;

    xmlhttp4.onreadystatechange = function() {
      if (xmlhttp4.readyState == 4) {
        document.getElementById("Event").innerHTML = "";
        if (xmlhttp4.status == 200) {
          text5_0 = xmlhttp4.responseText.split("\n");
          
          console.log(text5_0);
          
          if (text5_0 == "") {
            //var output4 = "<li class=\"list-item\"><div class=\"list-item__center\">なし</div></li>";
            //document.getElementById("Event").innerHTML += output4;
            
            document.getElementById("Event_parent").remove();
          }

            for (var i = 0; i < text5_0.length; i++) {
              if (text5_0[i] != "") {
                text5_1 = text5_0[i].split(",");
                console.log(text5_1[0]);
                var output3 = "<ons-list-item expandable>" + RemoveQ(text5_1[0]) + "<div class=\"expandable-content\">" + RemoveQ(text5_1[1]) + "</div></ons-list-item>";
                document.getElementById("Event").innerHTML += output3;
              }

            }
        }

      }
    }
    xmlhttp4.open("GET", "https://docs.google.com/spreadsheets/d/e/2PACX-1vRSroeDKgmopsQoM8ddstJcccESeOwPxIEP97-JZT15vPt7Hp-oUNKUXvnzqDW_Q52UmmGQ63ODyRxE/pub?output=csv");
    xmlhttp4.send();

  }

  function RemoveQ(str) {
    if (str !== undefined){
      var result = str.replace('\"', "");
      //「str」と「result」が同じ文字列になるまで繰り返す
      while(result !== str) {

        str = str.replace('\"', '');
        result = result.replace('\"', "");
      }

      return result;
    }
  }

  getData();
  //getData2();
  getData3();
  getData4();
</script>

</body>
</html>
